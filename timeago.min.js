!function(t,e){"object"==typeof module&&module.exports?(module.exports=e(),module.exports.default=module.exports):t.timeago=e()}("undefined"!=typeof window?window:this,function(){function n(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(i(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(i(t))}function i(t){return parseInt(t)}function u(t,e,n){e=f[e]?e:f[n]?n:"en";for(var r=0,o=t<0?1:0,a=t=Math.abs(t);s[r]<=t&&r<6;r++)t/=s[r];return(0===(r*=2)?9:1)<(t=i(t))&&(r+=1),f[e](t,r,a)[o].replace("%s",t)}function c(t,e){return((e=e?n(e):new Date)-n(t))/1e3}function a(t,e){return t.getAttribute?t.getAttribute(e):t.attr?t.attr(e):void 0}function r(t,e){this.nowDate=t,this.defaultLocale=e||"en"}function t(t,e){return new r(t,e)}var o="second_minute_hour_day_week_month_year".split("_"),d="秒_分钟_小时_天_周_月_年".split("_"),f={en:function(t,e){if(0===e)return["just now","right now"];var n=o[parseInt(e/2)];return 1<t&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["刚刚","片刻后"];var n=d[parseInt(e/2)];return[t+n+"前",t+n+"后"]}},s=[60,60,24,7,365/7/12,12],l="data-tid",p={};return r.prototype.doRender=function(t,e,n){var r,o=c(e,this.nowDate),a=this;t.innerHTML=u(o,n,this.defaultLocale),p[r=setTimeout(function(){a.doRender(t,e,n),delete p[r]},Math.min(1e3*function(t){for(var e=1,n=0,r=Math.abs(t);s[n]<=t&&n<6;n++)t/=s[n],e*=s[n];return r=(r%=e)?e-r:e,Math.ceil(r)}(o),2147483647))]=0,function(t,e){t.setAttribute?t.setAttribute(l,e):t.attr&&t.attr(l,e)}(t,r)},r.prototype.format=function(t,e){return u(c(t,this.nowDate),e,this.defaultLocale)},r.prototype.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0,r=t.length;n<r;n++)this.doRender(t[n],a(o=t[n],"data-timeago")||a(o,"datetime"),e);var o},r.prototype.setLocale=function(t){this.defaultLocale=t},t.register=function(t,e){f[t]=e},t.cancel=function(t){var e;if(t)(e=a(t,l))&&(clearTimeout(e),delete p[e]);else{for(e in p)clearTimeout(e);p={}}},t});